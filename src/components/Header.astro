---
import { getLangFromUrl, useTranslatedPath, useTranslations } from "@i18n/utils";
import { SelectLanguage } from "./SelectLanguage";
import { ToggleMode } from "./ToggleMode.tsx";
import { MenuBurgerIcon } from "./icons/MenuBurgerIcon";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const translatePath = useTranslatedPath(lang);

const LINKS = [
  // { href: "/", label: t("nav.home") },
  { href: "/pricing", label: t("nav.prices") },
  { href: "/#about", label: t("nav.about") },
  { href: "/#contact", label: t("nav.contact") },
];
---

<header class="font-inter border-b-border sticky top-0 w-full border-b px-12 py-6 backdrop-blur-sm">
  <nav class="gap-x-2xl max-w-1200px mx-a flex justify-between">
    <div class="gap-x-sm flex">
      <a
        href={translatePath("/")}
        class="font-800 font-gabarito text-2xl text-gray-900 dark:text-gray-100"
      >
        Brainslate
      </a>

      <div class="bg-primary w-1px h-full" role="separator"></div>

      <div class="gap-x-sm flex items-center">
        {
          LINKS.map(({ href, label }) => (
            <a
              href={translatePath(href)}
              class="text-foreground hover:text-foreground/40 font-gabarito font-450"
            >
              {label}
            </a>
          ))
        }
      </div>
    </div>

    <div class="gap-x-sm flex items-center">
      <ToggleMode client:load />
      <SelectLanguage client:only />
    </div>
  </nav>
</header>

<style scoped>
  .frosted {
    backdrop-filter: blur(2px);
    -webkit-backdrop-filter: blur(2px);
  }
</style>
